grammar VisitorTestDSL {

  VisitorTestFile = "tests" "{" VisitorTest* "}";

  VisitorTest = "visit" TypeName "{" Assertion* "}";

  TypeName = /[A-Za-z_][A-Za-z0-9_]*/;

  Assertion = Equals | Contains;

  Equals = "assertEquals(" FieldRef "," STRING ")";
  Contains = "assert(" FieldRef ".contains(" STRING "))";

  FieldRef = "$0" "." FieldName;
  FieldName = /[a-zA-Z_][a-zA-Z0-9_]*/;
}
